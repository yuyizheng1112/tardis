<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Models &mdash; tardis</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/plot_directive.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/tardis_logo.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Using a custom density profile" href="densitycust/densitycust.html" />
    <link rel="prev" title="Plasma Configuration" href="../plasma.html" />
    <link href="../../../../_static/tardis.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> tardis
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../quickstart/quickstart.html">Quickstart for TARDIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Input/Output</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Configuration (Required Input)</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Configuration Components</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../supernova.html">Supernova Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../atomic/atomic_data.html">Atomic Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plasma.html">Plasma Configuration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#model-configuration">Model Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#built-in-structure-density-and-abundance">Built-in Structure, Density, and Abundance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#csvy-model">CSVY Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../montecarlo.html">Monte Carlo Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spectrum.html">Spectrum Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../debug.html">Debug Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../example.html">Tardis Example Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_validator.html">Configuration Validator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../read_configuration.html">Reading the Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../optional/index.html">Optional Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../visualization/index.html">Visualization Tools &amp; Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../output/index.html">Additional Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../grid/TardisGridTutorial.html">TARDIS Grid Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics Walkthrough</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics/setup/index.html">Setting Up the Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics/montecarlo/index.html">Monte Carlo Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics/est_and_conv/index.html">Estimators and Convergence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../physics/spectrum/index.html">Spectrum Generation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Research with TARDIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../research/index.html">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Team &amp; Credits</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../team_and_governance/index.html">Team and Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../credits.html">Credits &amp; Publication Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../CODE_OF_CONDUCT.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sponsors.html">Sponsors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to TARDIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../CONTRIBUTING.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development/index.html">Developer Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../CHANGELOG.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../roadmap.html">Development Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/modules.html">tardis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../zreferences.html">TARDIS Papers and useful References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Outdated</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../outdated/index.html">Outdated Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">tardis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Configuration (Required Input)</a> &raquo;</li>
          <li><a href="../index.html">Configuration Components</a> &raquo;</li>
      <li>Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/io/configuration/components/models/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="models">
<span id="model-csvy-and-config"></span><h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h1>
<p>TARDIS requires a model of the ejecta in order to run a simulation. A model typically includes information
for the velocity shell structure, density, and abundances. <strong>See</strong> <a class="reference internal" href="../../../../physics/setup/model.html#model"><span class="std std-ref">Model of Supernova Domain</span></a> <strong>for more information on the
TARDIS model</strong>. TARDIS offers two ways of specifying the model: either directly in the configuration YAML file
or separately in a CSVY file. See <a class="reference external" href="https://csvy.org/">here</a> for an explanation of the CSVY file format.</p>
<p>TARDIS has several built-in models for the shell structure, density, and abundance. If only these are being used,
we recommend using the YAML configuration method. For creating a custom model (which will be discussed below), we
recommend using the CSVY method.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#model-configuration" id="id2">Model Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#custom-model-configurations" id="id3">Custom Model Configurations</a></p>
<ul>
<li><p><a class="reference internal" href="#file-structure" id="id4">File Structure</a></p></li>
<li><p><a class="reference internal" href="#file-abundance" id="id5">File Abundance</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#custom-model-tutorial" id="id6">Custom Model Tutorial</a></p></li>
<li><p><a class="reference internal" href="#model-converters" id="id7">Model Converters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#built-in-structure-density-and-abundance" id="id8">Built-in Structure, Density, and Abundance</a></p>
<ul>
<li><p><a class="reference internal" href="#structure" id="id9">Structure</a></p>
<ul>
<li><p><a class="reference internal" href="#specific-structure" id="id10">Specific Structure</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#density" id="id11">Density</a></p>
<ul>
<li><p><a class="reference internal" href="#branch85-w7-density" id="id12">Branch85_w7 Density</a></p></li>
<li><p><a class="reference internal" href="#exponential-density" id="id13">Exponential Density</a></p></li>
<li><p><a class="reference internal" href="#power-law-density" id="id14">Power_law Density</a></p></li>
<li><p><a class="reference internal" href="#uniform-density" id="id15">Uniform Density</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#abundance" id="id16">Abundance</a></p>
<ul>
<li><p><a class="reference internal" href="#uniform-abundance" id="id17">Uniform Abundance</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#csvy-model" id="id18">CSVY Model</a></p>
<ul>
<li><p><a class="reference internal" href="#csvy-model-tutorial" id="id19">CSVY Model Tutorial</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="model-configuration">
<span id="model-config"></span><h2><a class="toc-backref" href="#id2">Model Configuration</a><a class="headerlink" href="#model-configuration" title="Permalink to this headline">¶</a></h2>
<p>The following schema shows how the model section of the YAML configuration is set up:</p>
<table class="docutils align-default" id="model-yml">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>structure</p></li>
</ul>
</td>
<td rowspan="2"><p>oneOf</p></td>
<td><p><a class="reference internal" href="#specific-structure"><span class="std std-ref">Specific Structure</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#file-structure"><span class="std std-ref">File Structure</span></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>abundances</p></li>
</ul>
</td>
<td rowspan="2"><p>oneOf</p></td>
<td><p><a class="reference internal" href="#file-abundance"><span class="std std-ref">File Abundance</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#uniform-abundance"><span class="std std-ref">Uniform Abundance</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
<p>Several examples are shown in the following sections; additionally, see <a class="reference internal" href="../../example.html#tardis-example"><span class="std std-ref">Tardis Example Configuration</span></a> to see
an example model configuration section within the full TARDIS configuration. This configuration allows
for both built-in structures and abundances, which will be described in later sections, as well as custom
models for the shell structure and abundances. For the latter, while we recommend using the CSVY model,
one can specify custom structures and abundances using other files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using a custom shell structure, you must also use a custom density profile (and vice versa), as
they are recorded in the same file (see below). Therefore, if you wish to use a built-in shell
structure you must also use a built-in density profile, and vice versa.</p>
</div>
<div class="section" id="custom-model-configurations">
<h3><a class="toc-backref" href="#id3">Custom Model Configurations</a><a class="headerlink" href="#custom-model-configurations" title="Permalink to this headline">¶</a></h3>
<p>The following two sections demonstrate how to specify custom structures and abundances in the
model configuration.</p>
<div class="section" id="file-structure">
<span id="file-structure"></span><h4><a class="toc-backref" href="#id4">File Structure</a><a class="headerlink" href="#file-structure" title="Permalink to this headline">¶</a></h4>
<p>One can use a file referenced in the model configuration to create a custom structure model and density profile.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>file</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>filename</strong></p></li>
</ul>
</td>
<td colspan="2"><p>file name (with path) to structure model</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>filetype</strong></p></li>
</ul>
</td>
<td colspan="2"><p>file type</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>enum</p></td>
<td><p>simple_ascii, artis, cmfgen_model</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>v_inner_boundary</p></li>
</ul>
</td>
<td colspan="2"><p>location of the inner boundary chosen from the model</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>-1 km/s</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>v_outer_boundary</p></li>
</ul>
</td>
<td colspan="2"><p>location of the inner boundary chosen from the model</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>-1 km/s</p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    <span class="nt">structure</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">file</span>
        <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">density.dat</span>
        <span class="nt">filetype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple_ascii</span>
        <span class="nt">v_inner_boundary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">11000 km/s</span>
        <span class="nt">v_outer_boundary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20000 km/s</span>
</pre></div>
</div>
<p>In this example, our configuration references a file named <code class="docutils literal notranslate"><span class="pre">density.dat</span></code>. For more information on what this file
would entail, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="densitycust/densitycust.html">Using a custom density profile</a></li>
</ul>
</div>
<div class="section" id="file-abundance">
<span id="file-abundance"></span><h4><a class="toc-backref" href="#id5">File Abundance</a><a class="headerlink" href="#file-abundance" title="Permalink to this headline">¶</a></h4>
<p>One can use a file referenced in the model configuration to create a custom elemental abundances.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>file</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>filetype</strong></p></li>
</ul>
</td>
<td colspan="2"><p>type of abundance file to read in</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>filename</strong></p></li>
</ul>
</td>
<td colspan="2"><p>filename</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    
    <span class="nt">abundances</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">file</span>
        <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">abund.dat</span>
        <span class="nt">filetype</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple_ascii</span>
</pre></div>
</div>
<p>In this example, our configuration references a file named <code class="docutils literal notranslate"><span class="pre">abund.dat</span></code>. For more information on what this file
would entail, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="abundancecust/abundancecust.html">Using a custom stratified composition</a></li>
</ul>
</div>
</div>
<div class="section" id="custom-model-tutorial">
<h3><a class="toc-backref" href="#id6">Custom Model Tutorial</a><a class="headerlink" href="#custom-model-tutorial" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html">How to run TARDIS with a custom ejecta model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Your-custom-density-file">Your custom density file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Your-custom-abundance-file">Your custom abundance file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Running-TARDIS-with-the-custom-files">Running TARDIS with the custom files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Specifying-boundary-velocities-in-the-config-file">Specifying boundary velocities in the config file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Example-1)-v_inner_boundary-lower-than-first-velocity-in-density-file">Example 1) v_inner_boundary lower than first velocity in density file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Example-2)-v_outer_boundary-larger-than-last-velocity-in-density-file">Example 2) v_outer_boundary larger than last velocity in density file</a></li>
<li class="toctree-l2"><a class="reference internal" href="Custom_TARDIS_Model_Tutorial.html#Example-3)-v_boundaries-in-config-file-are-within-density-file-velocity-range">Example 3) v_boundaries in config file are within density file velocity range</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="model-converters">
<span id="converters"></span><h3><a class="toc-backref" href="#id7">Model Converters</a><a class="headerlink" href="#model-converters" title="Permalink to this headline">¶</a></h3>
<p>There are a variety of formats for models from other codes
(both hydro and radiative transfer) that can be converted to TARDIS input files.
Here we aim to provide converters for the most commonly used file formats.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="converters/stella_to_tardis.html">STELLA Files to TARDIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="converters/cmfgen.html">Convert CMFGEN files to TARDIS file format</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="built-in-structure-density-and-abundance">
<h2><a class="toc-backref" href="#id8">Built-in Structure, Density, and Abundance</a><a class="headerlink" href="#built-in-structure-density-and-abundance" title="Permalink to this headline">¶</a></h2>
<p>TARDIS’s built-in models for structure, density, and abundance are described in the following sections:</p>
<div class="section" id="structure">
<h3><a class="toc-backref" href="#id9">Structure</a><a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h3>
<p>When using the built-in structure functionality, the code requires two sections (<code class="docutils literal notranslate"><span class="pre">velocities</span></code> and <code class="docutils literal notranslate"><span class="pre">densities</span></code>) and a
parameter <code class="docutils literal notranslate"><span class="pre">no_of_shells</span></code>. <code class="docutils literal notranslate"><span class="pre">no_of_shells</span></code> is the requested number of shells for a model. The <code class="docutils literal notranslate"><span class="pre">velocity</span></code> section
requires a <code class="docutils literal notranslate"><span class="pre">type</span></code>. Currently, only <code class="docutils literal notranslate"><span class="pre">linear</span></code> is supported.</p>
<div class="section" id="specific-structure">
<span id="specific-structure"></span><h4><a class="toc-backref" href="#id10">Specific Structure</a><a class="headerlink" href="#specific-structure" title="Permalink to this headline">¶</a></h4>
<p>The following schema shows how to use the built-in structure model and density profiles.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td colspan="2"><p>specific</p></td>
</tr>
<tr class="row-even"><td rowspan="7"><ul class="simple">
<li><p><strong>velocity</strong></p></li>
</ul>
</td>
<td colspan="3"><p>description of the boundaries of the shells</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>start</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>stop</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>num</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>multipleOf</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p><strong>density</strong></p></li>
</ul>
</td>
<td rowspan="4"><p>oneOf</p></td>
<td colspan="2"><p><a class="reference internal" href="#branch85-w7-density"><span class="std std-ref">Branch85_w7 Density</span></a></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#exponential-density"><span class="std std-ref">Exponential Density</span></a></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#power-law-density"><span class="std std-ref">Power_law Density</span></a></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#uniform-density"><span class="std std-ref">Uniform Density</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="3"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>We present an example of the above schema:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    <span class="nt">structure</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">specific</span>
        <span class="nt">velocity</span><span class="p">:</span>
            <span class="nt">start</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000 km/s</span>
            <span class="nt">stop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2000 km/s</span>
            <span class="nt">num</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15</span>
        <span class="nt">density</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">branch85_w7</span> <span class="c1">#see density schemas below for all options in the density section</span>
</pre></div>
</div>
</div>
<div class="section" id="density">
<h3><a class="toc-backref" href="#id11">Density</a><a class="headerlink" href="#density" title="Permalink to this headline">¶</a></h3>
<p>In the <code class="docutils literal notranslate"><span class="pre">densities</span></code> section of the specific structure, the <code class="docutils literal notranslate"><span class="pre">type</span></code> parameter decides on the parameters.
The physics of these density models is further discussed in <a class="reference internal" href="../../../../physics/setup/model.html#model"><span class="std std-ref">Model of Supernova Domain</span></a>.</p>
<div class="section" id="branch85-w7-density">
<span id="branch85-w7-density"></span><h4><a class="toc-backref" href="#id12">Branch85_w7 Density</a><a class="headerlink" href="#branch85-w7-density" title="Permalink to this headline">¶</a></h4>
<p>The type <code class="docutils literal notranslate"><span class="pre">branch85_w7</span></code> uses a seventh-order polynomial fit to the W7 model and is parametrised by time since explosion. The parameters <code class="docutils literal notranslate"><span class="pre">time_0</span></code> and <code class="docutils literal notranslate"><span class="pre">density_coefficient</span></code> are set to sensible defaults and should not be changed.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>branch85_w7</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>w7_time_0</p></li>
</ul>
</td>
<td colspan="2"><p>This needs no change - DO NOT TOUCH</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>0.000231481 day</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>w7_rho_0</p></li>
</ul>
</td>
<td colspan="2"><p>This needs no change - DO NOT TOUCH</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>3e29 g/cm^3</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>w7_v_0</p></li>
</ul>
</td>
<td colspan="2"><p>This needs no change - DO NOT TOUCH</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>1 km/s</p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    <span class="nt">structure</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">specific</span>

        <span class="nt">density</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">branch85_w7</span>
</pre></div>
</div>
<div class="section" id="exponential-density">
<span id="exponential-density"></span><h4><a class="toc-backref" href="#id13">Exponential Density</a><a class="headerlink" href="#exponential-density" title="Permalink to this headline">¶</a></h4>
<p>This schema shows how to configure an exponential density profile (see the page linked below).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>exponential</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Time at which the pure model densities are right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>rho_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>density at time_0</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>v_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>at what velocity the density rho_0 applies</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    <span class="nt">structure</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">specific</span>

        <span class="nt">density</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">exponential</span>
            <span class="nt">rho_0</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-10 g/cm^3</span>
            <span class="nt">v_0</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000 km/s</span>
</pre></div>
</div>
<p>For more information, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="densityexp/densityexp.html">Using an exponential density profile</a></li>
</ul>
</div>
<div class="section" id="power-law-density">
<span id="power-law-density"></span><h4><a class="toc-backref" href="#id14">Power_law Density</a><a class="headerlink" href="#power-law-density" title="Permalink to this headline">¶</a></h4>
<p>This schema shows how to configure a power law density profile (see the page linked below).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>power_law</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Time at which the pure model densities are right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>rho_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>density at time_0</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>v_0</strong></p></li>
</ul>
</td>
<td colspan="2"><p>at what velocity the density rho_0 applies</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>exponent</strong></p></li>
</ul>
</td>
<td colspan="2"><p>exponent for exponential density profile</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    <span class="nt">structure</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">specific</span>

        <span class="nt">density</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">power_law</span>
            <span class="nt">rho_0</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-10 g/cm^3</span>
            <span class="nt">v_0</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000 km/s</span>
            <span class="nt">exponent</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
<p>For more information, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="densitypow/densitypow.html">Using a power law density profile</a></li>
</ul>
</div>
<div class="section" id="uniform-density">
<span id="uniform-density"></span><h4><a class="toc-backref" href="#id15">Uniform Density</a><a class="headerlink" href="#uniform-density" title="Permalink to this headline">¶</a></h4>
<p>For a uniform density profile, one need only specify a single parameter – the value of the uniform density.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>uniform</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>time_0</p></li>
</ul>
</td>
<td colspan="2"><p>Time at which the pure model densities are right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>value</strong></p></li>
</ul>
</td>
<td colspan="2"><p>value for uniform density</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
    <span class="nt">structure</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">specific</span>

        <span class="nt">density</span><span class="p">:</span>
            <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">uniform</span>
            <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-10 g/cm^3</span>
</pre></div>
</div>
</div>
<div class="section" id="abundance">
<h3><a class="toc-backref" href="#id16">Abundance</a><a class="headerlink" href="#abundance" title="Permalink to this headline">¶</a></h3>
<p>This section can be used to configure uniform abundances for all shells, by giving the atom or isotope name
and a relative abundance fraction. If it does not add up to 1, TARDIS will warn – but normalize the numbers.</p>
<div class="section" id="uniform-abundance">
<span id="uniform-abundance"></span><h4><a class="toc-backref" href="#id17">Uniform Abundance</a><a class="headerlink" href="#uniform-abundance" title="Permalink to this headline">¶</a></h4>
<p>The following schema shows how to use TARDIS’s built-in uniform abundance configuration.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>type</p></li>
</ul>
</td>
<td><p>enum</p></td>
<td><p>uniform</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>additionalProperties</p></td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>maximum</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>minimum</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>

    <span class="nt">abundances</span><span class="p">:</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">uniform</span>
        <span class="nt">H</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.2</span>
        <span class="nt">He</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.4</span>
        <span class="nt">O</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.15</span>
        <span class="nt">Ni56</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.25</span>
</pre></div>
</div>
<p>For more information, see:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="abundanceuni/abundanceuni.html">Using a uniform composition</a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="csvy-model">
<span id="id1"></span><h2><a class="toc-backref" href="#id18">CSVY Model</a><a class="headerlink" href="#csvy-model" title="Permalink to this headline">¶</a></h2>
<p>TARDIS allows users to use a CSVY file to input information about the model. To do this, instead of a
<code class="docutils literal notranslate"><span class="pre">model</span></code> section, one includes <code class="docutils literal notranslate"><span class="pre">csvy_model:</span> <span class="pre">&lt;file</span> <span class="pre">path</span> <span class="pre">to</span> <span class="pre">CSVY</span> <span class="pre">file&gt;</span></code> in the main TARDIS configuration
file.</p>
<p>The CSVY model has a YAML part as well as a CSV part, separated by the YAML delimiter <code class="docutils literal notranslate"><span class="pre">---</span></code>. This means
that each CSVY model file has the following structure: The first line of the file is the YAML delimiter,
followed by the YAML portion of the CSVY model, then another line with just the YAML delimiter,
and finally the CSV portion of the CSVY file. This is shown in the example CSVY file later in this section.</p>
<p>The YAML portion of the CSVY file allows the user to use most of the features of the YAML model configuration,
as shown in the schema below:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>name</p></li>
</ul>
</td>
<td colspan="3"><p>name of the model being run</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>model_density_time_0</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Initial time for the density in the model</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>model_isotope_time_0</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Initial time for isotope decay. Set to 0 for no isotopes.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>description</p></li>
</ul>
</td>
<td colspan="3"><p>description of the model being run</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>tardis_model_config_version</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Version of the configuration file</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="5"><ul class="simple">
<li><p>datatype</p></li>
</ul>
</td>
<td colspan="3"><p>fields found in csv part of csvy file</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>fields</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>array</em></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>v_inner_boundary</p></li>
</ul>
</td>
<td colspan="3"><p>velocity of the inner boundary</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>v_outer_boundary</p></li>
</ul>
</td>
<td colspan="3"><p>velocity of the outer boundary of the last shell</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="6"><ul class="simple">
<li><p>velocity</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>start</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>stop</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>num</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td rowspan="4"><ul class="simple">
<li><p>density</p></li>
</ul>
</td>
<td rowspan="4"><p>oneOf</p></td>
<td colspan="2"><p><a class="reference internal" href="#branch85-w7-density"><span class="std std-ref">Branch85_w7 Density</span></a></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#exponential-density"><span class="std std-ref">Exponential Density</span></a></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#power-law-density"><span class="std std-ref">Power_law Density</span></a></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#uniform-density"><span class="std std-ref">Uniform Density</span></a></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>abundance</p></li>
</ul>
</td>
<td colspan="3"><p><a class="reference internal" href="#uniform-abundance"><span class="std std-ref">Uniform Abundance</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="3"><p>False</p></td>
</tr>
</tbody>
</table>
<p>The CSV part of the CSVY file creates a table that can include information about shell velocities, densities,
and abundances in each cell. The column headers (the first row of the CSV part) may contain <code class="docutils literal notranslate"><span class="pre">velocity</span></code>,
<code class="docutils literal notranslate"><span class="pre">density</span></code>, <code class="docutils literal notranslate"><span class="pre">t_rad</span></code>, <code class="docutils literal notranslate"><span class="pre">dilution_factor</span></code>, or the name of any element or isotope (e.g. <code class="docutils literal notranslate"><span class="pre">H</span></code>, <code class="docutils literal notranslate"><span class="pre">Mg</span></code>,
<code class="docutils literal notranslate"><span class="pre">Ni56</span></code>). These columns are explained in the following example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>---
name: csvy_full
model_density_time_0: 1 day
model_isotope_time_0: 0 day
description: Example csvy config file for TARDIS.
tardis_model_config_version: v1.0
datatype:
  fields:
    -  name: velocity
       unit: km/s
       desc: velocities of shell outer bounderies.
    -  name: density
       unit: g/cm^3
       desc: density of shell.
    -  name: t_rad
       unit: K
       desc: radiative temperature.
    -  name: dilution_factor
       desc: dilution factor of shell.
    -  name: H
       desc: fractional H abundance.
    -  name: He
       desc: fractional He abundance.
    -  name: Ni56
       desc: fractional Ni56 abundance.

---
velocity,density,t_rad,dilution_factor,H,He,Ni56
9000, 5e-10, 7000, .9, 1.0, 1.0, 1.0
10500, 2.0e-10, 7000, .8, 0.0, 0.99, 0.01
12000, 9e-11, 7000, .1, 0.4, 0.58, 0.02
</pre></div>
</div>
<p>Notice that for each column that is used in the CSV section of the file, there is a corresponding field under
<code class="docutils literal notranslate"><span class="pre">datatype</span></code> in the YAML section of the file. In our example, each of the fields under <code class="docutils literal notranslate"><span class="pre">datatype</span></code> has a brief
description to go along with it. While the description is not necessary for any of the fields, the unit section
is required for <code class="docutils literal notranslate"><span class="pre">velocity</span></code>, <code class="docutils literal notranslate"><span class="pre">density</span></code>, and <code class="docutils literal notranslate"><span class="pre">t_rad</span></code>.</p>
<p>Since the <code class="docutils literal notranslate"><span class="pre">velocity</span></code> column contains the outer shell velocity, the first entry in the velocity column is the
velocity of the photosphere – i.e. the inner boundary of the computational domain (see <a class="reference internal" href="../../../../physics/setup/model.html#model"><span class="std std-ref">Model of Supernova Domain</span></a>).
Consequently, <strong>none of the other information in the first row is used</strong>. In our example, there are only two
shells, and the first shell will have an inner boundary with a velocity of <span class="math notranslate nohighlight">\(9000 \mathrm{ km/s}\)</span>, an outer boundary
with a velocity of <span class="math notranslate nohighlight">\(10500 \mathrm{ km/s}\)</span>, a density of <span class="math notranslate nohighlight">\(2.0*10^{-10} \mathrm{ g/cm^3}\)</span>, a dilution
factor of .8, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None of the CSV columns are required. However, if <code class="docutils literal notranslate"><span class="pre">velocity</span></code>, <code class="docutils literal notranslate"><span class="pre">density</span></code>, or the abundances are missing,
they must be specified in the YAML portion of the file. If <code class="docutils literal notranslate"><span class="pre">t_rad</span></code> or <code class="docutils literal notranslate"><span class="pre">dilution_factor</span></code> are missing,
they will be automatically calculated (see <a class="reference internal" href="../../../../physics/setup/model.html#model"><span class="std std-ref">Model of Supernova Domain</span></a>).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">t_rad</span></code> and <code class="docutils literal notranslate"><span class="pre">dilution_factor</span></code> are the values of the temperature and dilution factor for the first
iteration, and will be updated in subsequent iterations (see <a class="reference internal" href="../../../../physics/est_and_conv/index.html#est-and-conv"><span class="std std-ref">Estimators and Convergence</span></a>). To prevent these
quantities from being changed, you must set the damping constant to zero in the <a class="reference internal" href="../montecarlo.html#damped-config"><span class="std std-ref">Damped Convergence
Configuration</span></a> in the Monte Carlo section of the configuration file.</p>
</div>
<div class="section" id="csvy-model-tutorial">
<h3><a class="toc-backref" href="#id19">CSVY Model Tutorial</a><a class="headerlink" href="#csvy-model-tutorial" title="Permalink to this headline">¶</a></h3>
<p>Coming soon!</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../plasma.html" class="btn btn-neutral float-left" title="Plasma Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="densitycust/densitycust.html" class="btn btn-neutral float-right" title="Using a custom density profile" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2021, TARDIS Collaboration.
      <span class="lastupdated">Last updated on 26 Sep 2021.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>