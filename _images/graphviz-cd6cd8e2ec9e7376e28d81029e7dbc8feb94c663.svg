<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.49.0 (20210829.0051)
 -->
<!-- Pages: 1 -->
<svg width="450pt" height="764pt"
 viewBox="0.00 0.00 450.00 764.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 760)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-760 446,-760 446,4 -4,4"/>
<!-- start -->
<g id="node1" class="node">
<title>start</title>
<path fill="none" stroke="black" d="M333,-756C333,-756 303,-756 303,-756 297,-756 291,-750 291,-744 291,-744 291,-732 291,-732 291,-726 297,-720 303,-720 303,-720 333,-720 333,-720 339,-720 345,-726 345,-732 345,-732 345,-744 345,-744 345,-750 339,-756 333,-756"/>
<text text-anchor="middle" x="318" y="-735.5" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Start</text>
</g>
<!-- allpacketsprocessed -->
<g id="node3" class="node">
<title>allpacketsprocessed</title>
<polygon fill="none" stroke="black" points="318,-683 251,-653 318,-623 385,-653 318,-683"/>
<text text-anchor="middle" x="318" y="-656" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">All packets</text>
<text text-anchor="middle" x="318" y="-645" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">processed?</text>
</g>
<!-- start&#45;&gt;allpacketsprocessed -->
<g id="edge1" class="edge">
<title>start&#45;&gt;allpacketsprocessed</title>
<path fill="none" stroke="black" d="M318,-719.8C318,-712.14 318,-702.78 318,-693.55"/>
<polygon fill="black" stroke="black" points="321.5,-693.27 318,-683.27 314.5,-693.27 321.5,-693.27"/>
</g>
<!-- end -->
<g id="node2" class="node">
<title>end</title>
<path fill="none" stroke="black" d="M239,-576C239,-576 209,-576 209,-576 203,-576 197,-570 197,-564 197,-564 197,-552 197,-552 197,-546 203,-540 209,-540 209,-540 239,-540 239,-540 245,-540 251,-546 251,-552 251,-552 251,-564 251,-564 251,-570 245,-576 239,-576"/>
<text text-anchor="middle" x="224" y="-555.5" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">End</text>
</g>
<!-- allpacketsprocessed&#45;&gt;end -->
<g id="edge3" class="edge">
<title>allpacketsprocessed&#45;&gt;end</title>
<path fill="none" stroke="black" d="M297.6,-631.82C283.13,-617.5 263.63,-598.2 248.33,-583.08"/>
<polygon fill="black" stroke="black" points="250.78,-580.57 241.21,-576.02 245.85,-585.55 250.78,-580.57"/>
<text text-anchor="middle" x="276" y="-597" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">yes</text>
</g>
<!-- nextpacket -->
<g id="node7" class="node">
<title>nextpacket</title>
<path fill="none" stroke="black" d="M355,-576C355,-576 281,-576 281,-576 275,-576 269,-570 269,-564 269,-564 269,-552 269,-552 269,-546 275,-540 281,-540 281,-540 355,-540 355,-540 361,-540 367,-546 367,-552 367,-552 367,-564 367,-564 367,-570 361,-576 355,-576"/>
<text text-anchor="middle" x="318" y="-561" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Select next packet</text>
<text text-anchor="middle" x="318" y="-550" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">from pool</text>
</g>
<!-- allpacketsprocessed&#45;&gt;nextpacket -->
<g id="edge2" class="edge">
<title>allpacketsprocessed&#45;&gt;nextpacket</title>
<path fill="none" stroke="black" d="M318,-622.83C318,-611.2 318,-597.89 318,-586.44"/>
<polygon fill="black" stroke="black" points="321.5,-586.15 318,-576.15 314.5,-586.15 321.5,-586.15"/>
<text text-anchor="middle" x="323.5" y="-597" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">no</text>
</g>
<!-- shortestdistance -->
<g id="node4" class="node">
<title>shortestdistance</title>
<polygon fill="none" stroke="black" points="239,-357 154,-327 239,-297 324,-327 239,-357"/>
<text text-anchor="middle" x="239" y="-330" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Distance to cell</text>
<text text-anchor="middle" x="239" y="-319" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">edge shortest?</text>
</g>
<!-- outeredge -->
<g id="node5" class="node">
<title>outeredge</title>
<polygon fill="none" stroke="black" points="322,-250 230,-220 322,-190 414,-220 322,-250"/>
<text text-anchor="middle" x="322" y="-223" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Escaping through</text>
<text text-anchor="middle" x="322" y="-212" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">surface?</text>
</g>
<!-- shortestdistance&#45;&gt;outeredge -->
<g id="edge7" class="edge">
<title>shortestdistance&#45;&gt;outeredge</title>
<path fill="none" stroke="black" d="M257.01,-303.22C268.78,-288.32 284.32,-268.67 297.25,-252.31"/>
<polygon fill="black" stroke="black" points="300.28,-254.12 303.74,-244.1 294.79,-249.78 300.28,-254.12"/>
<text text-anchor="middle" x="290" y="-271" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">yes</text>
</g>
<!-- interact -->
<g id="node12" class="node">
<title>interact</title>
<path fill="none" stroke="black" d="M200,-238C200,-238 52,-238 52,-238 46,-238 40,-232 40,-226 40,-226 40,-214 40,-214 40,-208 46,-202 52,-202 52,-202 200,-202 200,-202 206,-202 212,-208 212,-214 212,-214 212,-226 212,-226 212,-232 206,-238 200,-238"/>
<text text-anchor="middle" x="126" y="-223" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Move packet to interaction location,</text>
<text text-anchor="middle" x="126" y="-212" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">perform interaction</text>
</g>
<!-- shortestdistance&#45;&gt;interact -->
<g id="edge8" class="edge">
<title>shortestdistance&#45;&gt;interact</title>
<path fill="none" stroke="black" d="M216.13,-304.75C197.54,-287.48 171.31,-263.1 151.94,-245.1"/>
<polygon fill="black" stroke="black" points="154.07,-242.3 144.36,-238.06 149.3,-247.43 154.07,-242.3"/>
<text text-anchor="middle" x="190.5" y="-271" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">no</text>
</g>
<!-- inneredge -->
<g id="node6" class="node">
<title>inneredge</title>
<polygon fill="none" stroke="black" points="148,-143 73,-113 148,-83 223,-113 148,-143"/>
<text text-anchor="middle" x="148" y="-116" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Crossing into</text>
<text text-anchor="middle" x="148" y="-105" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">photosphere?</text>
</g>
<!-- outeredge&#45;&gt;inneredge -->
<g id="edge12" class="edge">
<title>outeredge&#45;&gt;inneredge</title>
<path fill="none" stroke="black" d="M290.49,-199.99C261.08,-182.24 217.14,-155.72 185.84,-136.83"/>
<polygon fill="black" stroke="black" points="187.33,-133.65 176.96,-131.48 183.72,-139.64 187.33,-133.65"/>
<text text-anchor="middle" x="245.5" y="-164" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">no</text>
</g>
<!-- spectralcontrib -->
<g id="node13" class="node">
<title>spectralcontrib</title>
<path fill="none" stroke="black" d="M399,-131C399,-131 253,-131 253,-131 247,-131 241,-125 241,-119 241,-119 241,-107 241,-107 241,-101 247,-95 253,-95 253,-95 399,-95 399,-95 405,-95 411,-101 411,-107 411,-107 411,-119 411,-119 411,-125 405,-131 399,-131"/>
<text text-anchor="middle" x="326" y="-110.5" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Determine contribution to spectrum</text>
</g>
<!-- outeredge&#45;&gt;spectralcontrib -->
<g id="edge11" class="edge">
<title>outeredge&#45;&gt;spectralcontrib</title>
<path fill="none" stroke="black" d="M323.09,-190.31C323.67,-175.06 324.38,-156.42 324.96,-141.38"/>
<polygon fill="black" stroke="black" points="328.46,-141.29 325.35,-131.16 321.47,-141.02 328.46,-141.29"/>
<text text-anchor="middle" x="332" y="-164" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">yes</text>
</g>
<!-- crossintoshell -->
<g id="node10" class="node">
<title>crossintoshell</title>
<path fill="none" stroke="black" d="M80,-36C80,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 80,0 80,0 86,0 92,-6 92,-12 92,-12 92,-24 92,-24 92,-30 86,-36 80,-36"/>
<text text-anchor="middle" x="46" y="-21" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Move packet into</text>
<text text-anchor="middle" x="46" y="-10" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">next cell</text>
</g>
<!-- inneredge&#45;&gt;crossintoshell -->
<g id="edge14" class="edge">
<title>inneredge&#45;&gt;crossintoshell</title>
<path fill="none" stroke="black" d="M125.87,-91.82C110.16,-77.5 89,-58.2 72.41,-43.08"/>
<polygon fill="black" stroke="black" points="74.42,-40.18 64.67,-36.02 69.7,-45.35 74.42,-40.18"/>
<text text-anchor="middle" x="99.5" y="-57" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">no</text>
</g>
<!-- terminate -->
<g id="node11" class="node">
<title>terminate</title>
<path fill="none" stroke="black" d="M372,-36C372,-36 280,-36 280,-36 274,-36 268,-30 268,-24 268,-24 268,-12 268,-12 268,-6 274,0 280,0 280,0 372,0 372,0 378,0 384,-6 384,-12 384,-12 384,-24 384,-24 384,-30 378,-36 372,-36"/>
<text text-anchor="middle" x="326" y="-21" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Terminate propagation,</text>
<text text-anchor="middle" x="326" y="-10" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">discard packet</text>
</g>
<!-- inneredge&#45;&gt;terminate -->
<g id="edge13" class="edge">
<title>inneredge&#45;&gt;terminate</title>
<path fill="none" stroke="black" d="M179.82,-95.37C208.95,-80.16 252.24,-57.54 284.15,-40.86"/>
<polygon fill="black" stroke="black" points="286.01,-43.84 293.25,-36.11 282.76,-37.64 286.01,-43.84"/>
<text text-anchor="middle" x="266" y="-57" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">yes</text>
</g>
<!-- initpacket -->
<g id="node8" class="node">
<title>initpacket</title>
<path fill="none" stroke="black" d="M285.5,-503C285.5,-503 224.5,-503 224.5,-503 218.5,-503 212.5,-497 212.5,-491 212.5,-491 212.5,-479 212.5,-479 212.5,-473 218.5,-467 224.5,-467 224.5,-467 285.5,-467 285.5,-467 291.5,-467 297.5,-473 297.5,-479 297.5,-479 297.5,-491 297.5,-491 297.5,-497 291.5,-503 285.5,-503"/>
<text text-anchor="middle" x="255" y="-482.5" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Initialize packet</text>
</g>
<!-- nextpacket&#45;&gt;initpacket -->
<g id="edge4" class="edge">
<title>nextpacket&#45;&gt;initpacket</title>
<path fill="none" stroke="black" d="M302.75,-539.81C295.01,-531.09 285.47,-520.34 276.96,-510.75"/>
<polygon fill="black" stroke="black" points="279.37,-508.19 270.11,-503.03 274.13,-512.83 279.37,-508.19"/>
</g>
<!-- calculatedistances -->
<g id="node9" class="node">
<title>calculatedistances</title>
<path fill="none" stroke="black" d="M223.5,-430C223.5,-430 98.5,-430 98.5,-430 92.5,-430 86.5,-424 86.5,-418 86.5,-418 86.5,-406 86.5,-406 86.5,-400 92.5,-394 98.5,-394 98.5,-394 223.5,-394 223.5,-394 229.5,-394 235.5,-400 235.5,-406 235.5,-406 235.5,-418 235.5,-418 235.5,-424 229.5,-430 223.5,-430"/>
<text text-anchor="middle" x="161" y="-415" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">Calculated distances:</text>
<text text-anchor="middle" x="161" y="-404" font-family="Helvetica Neue, Helvetica, Arial, sans-serif" font-size="10.00">to next cell, to next interaction</text>
</g>
<!-- initpacket&#45;&gt;calculatedistances -->
<g id="edge5" class="edge">
<title>initpacket&#45;&gt;calculatedistances</title>
<path fill="none" stroke="black" d="M232.25,-466.81C220.12,-457.66 205.03,-446.26 191.87,-436.32"/>
<polygon fill="black" stroke="black" points="193.63,-433.26 183.55,-430.03 189.42,-438.85 193.63,-433.26"/>
</g>
<!-- calculatedistances&#45;&gt;shortestdistance -->
<g id="edge6" class="edge">
<title>calculatedistances&#45;&gt;shortestdistance</title>
<path fill="none" stroke="black" d="M177.16,-393.8C187.07,-383.26 200,-369.5 211.48,-357.28"/>
<polygon fill="black" stroke="black" points="214.1,-359.6 218.4,-349.92 209,-354.81 214.1,-359.6"/>
</g>
<!-- crossintoshell&#45;&gt;calculatedistances -->
<g id="edge10" class="edge">
<title>crossintoshell&#45;&gt;calculatedistances</title>
<path fill="none" stroke="black" d="M35.61,-36.14C25.62,-54.31 12,-84.15 12,-112 12,-328 12,-328 12,-328 12,-362.64 43.12,-382.96 76.92,-394.8"/>
<polygon fill="black" stroke="black" points="75.91,-398.16 86.5,-397.93 78.08,-391.5 75.91,-398.16"/>
</g>
<!-- terminate&#45;&gt;allpacketsprocessed -->
<g id="edge16" class="edge">
<title>terminate&#45;&gt;allpacketsprocessed</title>
<path fill="none" stroke="black" d="M374.52,-36.1C406.31,-50.74 442,-75.35 442,-112 442,-559 442,-559 442,-559 442,-598.23 401.78,-622.94 367.16,-636.95"/>
<polygon fill="black" stroke="black" points="365.66,-633.77 357.58,-640.61 368.17,-640.31 365.66,-633.77"/>
</g>
<!-- interact&#45;&gt;calculatedistances -->
<g id="edge9" class="edge">
<title>interact&#45;&gt;calculatedistances</title>
<path fill="none" stroke="black" d="M127.58,-238.32C130.15,-264.3 135.86,-314.83 145,-357 146.91,-365.83 149.53,-375.32 152.1,-383.85"/>
<polygon fill="black" stroke="black" points="148.83,-385.15 155.14,-393.66 155.52,-383.07 148.83,-385.15"/>
</g>
<!-- spectralcontrib&#45;&gt;terminate -->
<g id="edge15" class="edge">
<title>spectralcontrib&#45;&gt;terminate</title>
<path fill="none" stroke="black" d="M326,-94.94C326,-81.39 326,-62.18 326,-46.47"/>
<polygon fill="black" stroke="black" points="329.5,-46.26 326,-36.26 322.5,-46.26 329.5,-46.26"/>
</g>
</g>
</svg>
